<template>
	<safe-area>
		<form class="form" @submit="submit">
			<view class="form-item">
				<text>å§“å:</text>
				<input type="text" placeholder="è¯·è¾“å…¥å§“å...ğŸ¥³ğŸ¥³" name="name">
			</view>

			<radio-group class="form-item" name="sex">
				<text>æ€§åˆ«:</text>
				<label>
					<radio value="ç”·">
					</radio>
					<text>ç”·</text>
				</label>
				<label>
					<radio checked value="å¥³">
					</radio>
					<text>å¥³</text>
				</label>
			</radio-group>

			<picker id="birth-picker" mode="multiSelector" class="form-item" @change="setBirth">
				<text>å‡ºç”Ÿå¹´æœˆ:{{formatBirth}}</text>
			</picker>

			<checkbox-group class="form-item" name="hobby">
				<text>çˆ±å¥½:</text>
				<label>
					<checkbox value="å”±"></checkbox>
					<text>å”±</text>
				</label>
				<label>
					<checkbox value="è·³"></checkbox>
					<text>è·³</text>
				</label>
				<label>
					<checkbox value="rap"></checkbox>
					<text>rap</text>
				</label>
				<label>
					<checkbox value="ç¯®çƒ"></checkbox>
					<text>ç¯®çƒ</text>
				</label>
			</checkbox-group>


			<view class="form-item">
				<text>ä»‹ç»:</text>
				<textarea name="info" placeholder="è¯·è¾“å…¥ä¸ªäººç®€ä»‹..."></textarea>
			</view>

			<view class="form-item">
				<button type="submit">æäº¤</button>
				<button>å–æ¶ˆ</button>
			</view>


		</form>

	</safe-area>
</template>
<script>
export default {
	name: 'main',
	apiready() {//like created
		const picker = document.querySelector('#birth-picker')

		picker.setData({
			data:this.data.dateList
		})
	},
	data() {
		return {
			dateList: [
				// æœ‰å‡ ä¸ªæ•°ç»„ï¼Œå°†æ¥å°±ä¼šæ¸²æŸ“å‡ åˆ—æ•°æ®
				[
					1980,
					1981,
					1982,
					1983,
					1984,
					1985,
					1986,
					1987,
					1988,
					1989,
					1990,
					1991,
					1992,
				],
				[
					1,
					2,
					3,
					4,
					5,
					6,
					7,
					8,
					9,
					10,
					11,
					12
				]
			],
			birth: [0, 0]
		}
	},
	methods: {
		submit(e) {
			api.alert({
				msg: {
					...e.detail.value,
					birth: this.formatBirth
				}
			})
		},
		setBirth(e) {
			this.data.birth = e.detail.value
		}

	},
	computed: {
		formatBirth() {
			const { dateList, birth } = this.data

			return `${dateList[0][birth[0]]}-${dateList[1][birth[1]]}`
		}
	}
}
</script>
<style>
.form {
	padding: 30px;
}
.form-item {
	flex-direction: row;
	margin-bottom: 10px;
}
</style>