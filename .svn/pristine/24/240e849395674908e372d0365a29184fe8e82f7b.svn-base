<template>
	<safe-area class="page">
		<!-- 
			æ”¶é›†æ•°æ®ä½¿ç”¨v-model
		-->
		<input type="text" placeholder="è¯·è¾“å…¥æœç´¢å†…å®¹" class="search" v-model="searchText" />
		<!-- éå†çš„å…ƒç´ éœ€è¦åŒ…è£¹ä¸€ä¸ªå®¹å™¨ï¼Œå¦åˆ™å¯èƒ½å½±å“åˆ°å…¶ä»–å…ƒç´ åŠŸèƒ½ -->
		<view>
			<text v-for="anime in handleAnimes" :key="anime.id">
				{ anime.id } - { anime.name } - {anime.time}
			</text>
    <img style="background-size:cover" src="../../image/11385343fbf2b2119313f479cdd272380cd7912320f0.jpg"/>
		</view>
		<view class="container">
			<button @click="setOrderType('asc')">ğŸ˜‚ğŸ˜‚å¹´é¾„å‡åº</button>
			<button @click="setOrderType('desc')">ğŸ¤£ğŸ¤£å¹´é¾„é™åº</button>
			<button @click="setOrderType('origin')">ğŸ˜¤ğŸ˜¤åŸæœ¬é¡ºåº</button>
		</view>
	</safe-area>
</template>
<script>
export default {
  name: 'demo4',
  apiready() {//like created

  },
  data() {
    return {
      animes: [
		  {id:1,name:'ç½ªæ¶ç‹å† ',time:2011},
		  {id:2,name:'é­”å¥³ä¹‹æ—…',time:2020},
		  {id:3,name:'ç»ˆæœ«çš„å¥³æ­¦ç¥',time:2021},
		  {id:4,name:'é£Ÿé”ˆæœ«ä¸–å½•',time:2022},
		  {id:5,name:'å“¥å¸ƒæ—æ€æ‰‹',time:2018},
		  {id:6,name:'é‚£æœµèŠ±',time:2011},
		  {id:7,name:'å½±å®…1',time:2020},
		  {id:8,name:'ç¾å¦™ä¸–ç•Œ',time:2020},
		  {id:9,name:'ä¸ºç¾å¥½ä¸–ç•ŒçŒ®ä¸Šç¥ç¦',time:2015},
		  {id:10,name:'æˆ‘çš„é’æ˜¥æ‹çˆ±ç‰©è¯­æœç„¶æœ‰é—®é¢˜',time:2013},
		  {id:11,name:'å°¸é¬¼',time:2010},
		  {id:12,name:'é»‘å²©å°„æ‰‹',time:2013},
		  {id:13,name:'å½±å®…2',time:2022},
		  {id:14,name:'åˆ€å‰‘ç¥åŸŸç¬¬ä¸€å­£SAO+ALO',time:2016},
	  ],
      // æœç´¢å†…å®¹
      searchText: '',
      // æ’åºç±»å‹ asc å‡åº  desc é™åº origin åŸæœ¬é¡ºåº
      orderType: 'origin'
    }
  },
  methods: {
    setOrderType(orderType) {
      this.data.orderType = orderType
    }
  },
  computed: {
    handleAnimes() {
      const { animes, searchText, orderType } = this.data;
      // è¿‡æ»¤ï¼Œåªä¿ç•™åŒ…å«searchTextçš„å†…å®¹
      let newAnimes = animes.filter((anime) => anime.name.includes(searchText));
      // æ’åº
      if (orderType === 'asc') {
        newAnimes.sort((a, b) => a.time - b.time)
      } else if (orderType === 'desc') {
        newAnimes.sort((a, b) => b.time - a.time)
      }

      return newAnimes;
    }
  }
}
</script>
<style>
.page {
  padding: 10px;
}
.search {
  width: 100%;
  margin-bottom: 10px;
}
.container {
  flex-direction: row;
  margin-top: 10px;
}
</style>